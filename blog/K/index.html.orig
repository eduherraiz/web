
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>Memoria de pez - Introducción a thumbor </title>
    <meta name="robots" content="follow, all" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Hoy me gustar&iacute;a hablaros de un software que a mis ojos brilla mucho.&nbsp;Como est&aacute; tan bien parido y creo que dar&aacute; que hablar durante mucho tiempo, le voy a dedicar un repaso amplio.&nbsp;Una introducci&oacute;n que vereis a continuaci&oacute;n, y dos futuras entradas m&aacute;s: una explicando una instalaci&oacute;n b&aacute;sica y otra&nbsp;con..." />
    <meta name="keywords" content="epic-fail, htpc, inteligencia, ip, linux, mentes-criminales, reflexion, sabiduria, script, xbmc" />
    <meta name="author" content="Fantomas42" />
    
    <meta name="generator" content="Zinnia 0.15" />

    <link rel="pingback" href="/xmlrpc/" />
    <link rel="home" href="/blog/" />
    <link rel="stylesheet" href="/static/portfolio/zinnia_bootstrap/bootstrap/css/bootstrap.min.css" />
    <style type="text/css">
      body {
        padding-top: 70px;
      }
      body > nav img {
        margin-top: 5px;
        margin-left: 10px;
      }
      p.entry-discussions {
        margin-bottom: 0px;
      }
      p {
          font-size: 16px;
      }
      .entry-title{
          font-size: 24px;;
      }
    </style>
    <!--[if lt IE 9]>
        <script src="/static/portfolio/zinnia_bootstrap/assets/js/html5shiv.js"></script>
        <script src="/static/portfolio/zinnia_bootstrap/assets/js/respond.min.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="/static/portfolio/zinnia/theme/img/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/portfolio/zinnia_bootstrap/assets/ico/apple-touch-icon-144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/portfolio/zinnia_bootstrap/assets/ico/apple-touch-icon-114-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/portfolio/zinnia_bootstrap/assets/ico/apple-touch-icon-72-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" href="/static/portfolio/zinnia_bootstrap/assets/ico/apple-touch-icon-57-precomposed.png" />
    
  
    <link rel="index" href="/blog/" />
    <link rel="author" type="text/plain" href="/blog/humans.txt" />
    <link rel="EditURI" type="application/rsd+xml" href="/blog/rsd.xml" />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/blog/wlwmanifest.xml" />
    <link rel="search" type="application/opensearchdescription+xml" title="Zinnia's Weblog" href="/blog/opensearch.xml" />
    <link rel="alternate" type="application/rss+xml" title="Feed RSS de las últimas entradas" href="/blog/feeds/" />
    <link rel="alternate" type="application/rss+xml" title="Canal RSS de los últimos debates" href="/blog/feeds/discussions/" />
    
<link rel="archives" title="Archivos Abril de 2015" href="/blog/2015/04/" />
<link rel="archives" title="Archivos Marzo de 2015" href="/blog/2015/03/" />
<link rel="archives" title="Archivos Noviembre de 2014" href="/blog/2014/11/" />
<link rel="archives" title="Archivos Mayo de 2014" href="/blog/2014/05/" />
<link rel="archives" title="Archivos Diciembre de 2013" href="/blog/2013/12/" />
<link rel="archives" title="Archivos Octubre de 2012" href="/blog/2012/10/" />
<link rel="archives" title="Archivos Septiembre de 2012" href="/blog/2012/09/" />
<link rel="archives" title="Archivos Febrero de 2012" href="/blog/2012/02/" />
<link rel="archives" title="Archivos Diciembre de 2011" href="/blog/2011/12/" />
<link rel="archives" title="Archivos Noviembre de 2011" href="/blog/2011/11/" />
<link rel="archives" title="Archivos Octubre de 2011" href="/blog/2011/10/" />
<link rel="archives" title="Archivos Julio de 2011" href="/blog/2011/07/" />
<link rel="archives" title="Archivos Junio de 2011" href="/blog/2011/06/" />
<link rel="archives" title="Archivos Febrero de 2011" href="/blog/2011/02/" />



  
  <link rel="prev" title="¿Porqué es tan caro hacer una página web?" href="/blog/2015/03/14/porque-es-tan-caro-hacer-una-pagina-web/" />
  
  
  <link rel="shortlink" href="http://www.eduherraiz.com/blog/K/" />
  <link rel="canonical" href="/blog/2015/04/07/thumbor/" />
  
  <link rel="alternate" type="application/rss+xml" title="Feed RSS de los debates en 'Introducción a thumbor '"
        href="/blog/feeds/discussions/2015/04/07/thumbor/" />
  <link rel="alternate" type="application/rss+xml" title="Feed RSS de comentarios en 'Introducción a thumbor '"
        href="/blog/feeds/comments/2015/04/07/thumbor/" />
  <link rel="alternate" type="application/rss+xml" title="Feed RSS de pingbacks en 'Introducción a thumbor '"
        href="/blog/feeds/pingbacks/2015/04/07/thumbor/" />
  <link rel="alternate" type="application/rss+xml" title="Feed RSS de trackbacks en 'Introducción a thumbor '"
        href="/blog/feeds/trackbacks/2015/04/07/thumbor/" />
  

    
  </head>
  <body class="zinnia entry entry-20 year-2015 month-04 week-15 day-07">
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <img src="/static/portfolio/zinnia_bootstrap/img/zinnia.png" class="pull-left" alt="Memoria de pez " />
          <a href="/blog/" title="Memoria de pez " class="navbar-brand" rel="home">
            Memoria de pez
          </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav navbar-left">
            
            <li >
              <a href="/blog/categories/" title="Lista de categorías">
                Categorías
              </a>
            </li>
            
            <li >
              <a href="/blog/authors/" title="Lista de autores">
                Autores
              </a>
            </li>
            
            <li >
              <a href="/blog/tags/" title="Lista de tags">
                Tags
              </a>
            </li>
            <li class="divider-vertical"></li>
          </ul>
          <form method="get" action="/blog/search/" class="navbar-form navbar-left">
            <div class="form-group">
              <input type="text" class="search-query form-control" placeholder="Buscar" name="pattern" value="" />
            </div>
            <button type="submit" name="submit" class="btn btn-default btn-sm">
              <span class="glyphicon glyphicon-search"></span>
            </button>
          </form>
          <ul class="nav navbar-nav navbar-right">
            
            <li >
            <li>
              <a href="/blog/sitemap/" title="Sitemap" class="sitemap">
                Sitemap
              </a>
            </li>
            <li class="divider-vertical"></li>
            <li>
              <a href="/blog/feeds/" title="Feed RSS de las últimas entradas" class="feeds">
                Feed RSS
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    
    <div class="container">
      <div class="row">
        <div id="content" class="hfeed col-xs-12 col-sm-8 col-md-8 col-lg-8">
          
  <ul class="breadcrumb">
  
  <li >
    
    <a href="/blog/" title="Blog">Blog</a>
    
  </li>
  
  <li >
    
    <a href="/blog/2015/" title="2015">2015</a>
    
  </li>
  
  <li >
    
    <a href="/blog/2015/04/" title="Abril">Abril</a>
    
  </li>
  
  <li >
    
    <a href="/blog/2015/04/07/" title="07">07</a>
    
  </li>
  
  <li class="active">
    
    Introducción a thumbor 
    
  </li>
  
</ul>


          


  
<article id="entry-20" class="hentry">
  
  <header class="entry-header page-header">
    <h2 class="entry-title">
    
      <a href="/blog/2015/04/07/thumbor/" title="Introducción a thumbor " rel="bookmark">
        Introducción a&nbsp;thumbor 
      </a>
    
    
      <br />
      <small class="entry-info">
        
        
        
        Escrito por
        
        <span class="vcard author">
          <a href="/blog/authors/Edu/" class="fn url" rel="author"
             title="Mostrar todos los artículos de Edu Herraiz">Edu Herraiz</a></span>
        
        on
        
        
        
        
        <time class="published" datetime="2015-04-07T21:14:54+02:00" pubdate="pubdate">7 de Abril de 2015</time>
        
        
        
        .
        
        
      </small>
    
    </h2>
    
    <p class="entry-last-update" style="display: none;">
      Última actualización en <time class="updated" datetime="2015-10-19T19:52:35.051181+02:00">19 de Octubre de 2015</time>.
    </p>
    
  </header>
  

  
  <div class="entry-body">
    
    
    <div class="entry-image">
      <p>
        
          <img src="/media/portfolio/uploads/zinnia/2015/04/14/thumbor.png" alt="Introducción a thumbor " class="img-thumbnail img-responsive" />
          
      </p>
    </div>
    
    
    
    <div class="entry-content lead">
      <p>Hoy me gustar&iacute;a hablaros de un software que a mis ojos brilla mucho.&nbsp;Como est&aacute; tan bien parido y creo que dar&aacute; que hablar durante mucho tiempo, le voy a dedicar un repaso amplio.&nbsp;Una introducci&oacute;n que vereis a continuaci&oacute;n, y dos futuras entradas m&aacute;s: una explicando una instalaci&oacute;n b&aacute;sica y otra&nbsp;con un ejemplo de&nbsp;despliegue en producci&oacute;n en alta disponibilidad.</p>

<h2><strong>Thumbor</strong></h2>

<p><a href="http://thumbor.org/">Thumbor</a> es un servidor de im&aacute;genes&nbsp;escrito en python. Resumiendo mucho, podr&iacute;amos decir que se encarga de&nbsp;recoger im&aacute;genes, procesarlas y entregarlas.&nbsp;Entendiendo el procesado como una redimensi&oacute;n, un recortado, aplicar un filtro, etc.</p>

<p>La gracia principal es que no tienes que&nbsp;especificar que procesado quieres tener para una imagen a priori, simplemente incluyes el tipo de procesado y los par&aacute;metros en una URL generada para cargar la imagen. As&iacute;, cuando thumbor recibe la petici&oacute;n, procesa la imagen desde el original al vuelo&nbsp;y la entrega.&nbsp;Puedes probar el uso de thumbor&nbsp;en&nbsp;<a href="http://thumborize.me/" style="line-height: 18.9090900421143px;">http://thumborize.me/</a></p>

<p>A modo de ejemplo ilustrativo, tomemos como ejemplo esta redimensi&oacute;n, a partir de esta imagen&nbsp;<a href="http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg" style="line-height: 20.7999992370605px;" target="_blank">original</a>:</p>

<pre>
<big><small>http://thumbor.eduherraiz.com/unsafe/550x200/http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg</small></big></pre>

<p><a href="http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg" target="_blank"><img alt="" src="http://thumbor.eduherraiz.com/unsafe/550x200/http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg" style="width: 550px; height: 200px; margin: 0px auto;" /></a></p>

<p><strong>Nota</strong>: Para los siguientes ejemplos de la entrada obviar&eacute; la parte del servidor de thumbor y la url de carga de imagen. Todas las im&aacute;genes de la entrada han sido generadas con thumbor.</p>

<h3><strong>Cach&eacute; de imagenes</strong></h3>

<p>Mi avispado lector ya se habr&aacute; dado cuenta que no es viable generar todas las im&aacute;genes al vuelo,&nbsp;para remediar esto, thumbor permite&nbsp;conservar&nbsp;una copia de las ya generadas a modo de cach&eacute;. Si ya ha recibido una petici&oacute;n igual anteriormente ya no tiene que repetir el proceso.</p>

<h3><strong>Procesados t&iacute;picos</strong></h3>

<p>Encontraremos los procesados t&iacute;picos: redimensi&oacute;n y recorte, rotado o&nbsp;volteado. Tambi&eacute;n encontraremos otros como&nbsp;luminosidad, contraste, desenfocado&nbsp;y aunque est&aacute; bien&nbsp;<a href="https://github.com/thumbor/thumbor/wiki">documentado</a>, tambi&eacute;n podemos ver desde su repositorio la <a href="https://github.com/thumbor/thumbor/tree/master/thumbor/filters">cantidad de filtros disponibles es muy extensa</a>. Aqu&iacute; unos pocos ejemplos:</p>

<table border="1" cellpadding="1" cellspacing="1" style="width: 600px; align:center;">
	<tbody>
		<tr>
			<td>
			<p><img alt="Original" src="http://thumbor.eduherraiz.com/unsafe/180x180/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png" style="width: 180px; height: 180px; margin: 20px;" />&nbsp;&nbsp; &nbsp;Original</p>
			</td>
			<td>
			<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/-180x-180/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png" style="width: 180px; height: 180px; margin: 20px;" />&nbsp; &nbsp; &nbsp;<a href="http://thumbor.eduherraiz.com/unsafe/-180x-180/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png">/-180x-180/</a></p>
			</td>
			<td>
			<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/180x180/filters:brightness(40)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png" style="margin: 20px;" />&nbsp; &nbsp; &nbsp;<a href="http://thumbor.eduherraiz.com/unsafe/180x180/filters:brightness(40)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png">/filters:brightness(40)/</a></p>
			</td>
		</tr>
		<tr>
			<td>
			<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/180x180/filters:blur(7)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png" style="width: 180px; height: 180px; margin: 20px;" />&nbsp; &nbsp; &nbsp;<a href="http://thumbor.eduherraiz.com/unsafe/180x180/filters:blur(7)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png">/filters:blur(7)/</a></p>
			</td>
			<td>
			<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/180x180/filters:contrast(120)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png" style="width: 180px; height: 180px; margin: 20px;" />&nbsp; &nbsp; &nbsp;<a href="http://thumbor.eduherraiz.com/unsafe/180x180/filters:contrast(120)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png">/filters:contrast(120)/</a></p>
			</td>
			<td>
			<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/fit-in/180x180/filters:fill(288CFF)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png" style="width: 180px; height: 180px; margin: 20px;" />&nbsp; &nbsp;&nbsp;<a href="http://thumbor.eduherraiz.com/unsafe/fit-in/180x180/filters:fill(288CFF)/http://img1.wikia.nocookie.net/__cb20140817021807/british-first-division/images/9/99/Game-of-thrones-khaleesi.png">/fit-in/filters:fill(288CFF)/</a></p>
			</td>
		</tr>
	</tbody>
</table>

<h3><strong>Marca de agua</strong></h3>

<p>Es muy interesante ver&nbsp;como con thumbor cosas que antes supon&iacute;an esfuerzo en el desarrollo simplemente se han quedado en componer una URL, ejemplo de como a&ntilde;adir marca de agua con opacidad a una imagen.</p>

<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/550x200/filters:watermark(http://www.apsl.net/static/apslweb/img/apsl.png,-10,-10,30)/http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg" style="width: 550px; height: 200px;" /></p>

<p><a href="http://thumbor.eduherraiz.com/unsafe/550x200/filters:watermark(http://www.apsl.net/static/apslweb2/nivo/themes/apslorman/apsl.png,-10,-10,30)/http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg">/unsafe/550x200/filters:watermark(http://$URL/apsl.png,-10,-10,30)/</a></p>

<h3><strong>Procesado inteligente</strong></h3>

<p>Pero aparte, y aqu&iacute; thumbor&nbsp;<strong>brilla mucho tambi&eacute;n</strong><span style="line-height: 20.7999992370605px;">,&nbsp;podemos utilizar&nbsp;</span>procesados inteligentes<span style="line-height: 20.7999992370605px;">:&nbsp;</span>detectores focales, faciales<span style="line-height: 20.7999992370605px;">,&nbsp;que nos permitir&aacute; encontrar las partes importantes de la imagen como caras u&nbsp;objetos,&nbsp;</span>&iexcl;y thumbor&nbsp;adaptar&aacute;&nbsp;los recortes a estas detecciones!<span style="line-height: 20.7999992370605px;">&nbsp;Para esto utiliza detectores <a href="http://opencv.org/">OpenCV</a> y nos abre un universo nuevo en el tratamiento de las im&aacute;genes. Este procesado se realiza a&ntilde;adiendo el par&aacute;metro &quot;smart&quot;.</span></p>

<p>Tomemos como ejemplo para ilustrar el procesado inteligente esta imagen:</p>

<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/400x400/img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg" style="width: 400px; height: 400px;" /></p>

<p>&iquest;Que pasar&iacute;a si le pedimos a thumbor que nos haga un redimensionado de menos alto&nbsp;de la imagen original? Pues que coger&iacute;a por defecto el centro de la imagen y nos devolver&iacute;a&nbsp;algo as&iacute;:</p>

<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/400x150/http://img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg" style="width: 400px; height: 150px;" /></p>

<p><a href="http://thumbor.eduherraiz.com/unsafe/400x150/http://img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg">/unsafe/400x150/</a></p>

<p>Est&aacute; claro que no es una buena imagen, pero si aplicamos sobre el mismo tama&ntilde;o el procesado inteligente, es capaz de detectar las caras y darnos una imagen mucho mejor:</p>

<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/400x150/smart/http://img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg" style="width: 400px; height: 150px;" /></p>

<p><a href="http://thumbor.eduherraiz.com/unsafe/400x150/smart/http://img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg">/unsafe/400x150/smart/</a></p>

<p>Siempre podemos ver que ha encontrado el servidor con el procesado inteligente gracias al modo debug, donde en este caso veremos marcadas las caras, pero puede que si no encuentra&nbsp;caras reconozca puntos de inter&eacute;s o puntos focales.</p>

<p><img alt="" src="http://thumbor.eduherraiz.com/unsafe/400x400/thumbor.eduherraiz.com/unsafe/debug/500x100/smart/http://img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg" style="width: 400px; height: 400px;" /></p>

<p><a href="http://thumbor.eduherraiz.com/unsafe/debug/500x100/smart/http://img3.wikia.nocookie.net/__cb20090303011838/es.starwars/images/5/59/ThreeJedi.jpg">/unsafe/debug/500x100/smart/</a></p>

<p>El procesado inteligente abre la puerta a no tener que pensar mucho en como utilizar los recortes, simplemente especificas el tama&ntilde;o que necesitas y el se encargar&aacute; de darte la mejor imagen posible.</p>

<h3><strong>Informaci&oacute;n del procesado</strong></h3>

<p>Podemos utilizar el par&aacute;metro &quot;meta&quot; en la url&nbsp;para obtener un json con toda la meta-informaci&oacute;n&nbsp;de la redimensi&oacute;n generada:</p>

<p style="color: rgb(0, 0, 0); line-height: normal;"><big><small>/unsafe/meta/550x200/</small></big></p>

<p style="color: rgb(0, 0, 0); line-height: normal;">Dando como <a href="https://gist.github.com/eduherraiz/f0243dc3833230b6cb4e">resultado un informativo json</a>, que seguro alguien le encontrar&aacute; utilidad a nivel de aplicaci&oacute;n.</p>

<p>Tambi&eacute;n podemos utilizar el par&aacute;metro &quot;debug&quot;&nbsp;para ver otra informaci&oacute;n visual del procesado si esta tuviese alguna. Por ejemplo en <a href="http://thumbor.eduherraiz.com/unsafe/debug/smart/http://www.pescandoenmallorca.com/wp-content/uploads/2015/04/IMG_20150403_155515.jpg">la detecci&oacute;n de caras</a>.&nbsp;</p>

<h3><strong>Seguridad</strong></h3>

<p>Tenemos la posibilidad de utilizarlo en dos modos:&nbsp;de forma segura o insegura.</p>

<h4><strong>Modo seguro</strong></h4>

<p>Se configura el servidor con una clave secreta que un generador de urls de nuestra aplicaci&oacute;n debe&nbsp;conocer.&nbsp;Gracias a esta clave a&ntilde;ade un hash a cada URL que el servidor validar&aacute; antes de procesar. Recordar que la URL thumbor ser&aacute; p&uacute;blica y la iniciar&aacute; el navegador del cliente, por tanto solo necesitamos securizar que nadie externo pueda utilizar thumbor para redimensionar sus im&aacute;genes. El c&oacute;digo que tendremos que incluir en nuestra app para generar los links a thumbor se simplifica con <a href="https://github.com/thumbor/libthumbor/wiki/Usage">libthumbor</a>&nbsp;esta librer&iacute;a python del propio&nbsp;proyecto que genera las URLS, tambi&eacute;n con <a href="https://github.com/thumbor/libthumbor/wiki/Django-support">soporte para django nativo</a>.</p>

<p>La url generada tendr&iacute;a <a href="http://thumbor.eduherraiz.com/LYlJ76NKiy2HAQ9RZR8iqIOTHGE=/300x150/smart/http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg">esta forma</a>:</p>

<pre>
http://thumbor.eduherraiz.com/LYlJ76NKiy2HAQ9RZR8iqIOTHGE=/300x150/smart/http://www.eduherraiz.com/media/portfolio/uploads/2015/04/13/dsc01223.jpg</pre>

<p><strong>Modo inseguro&nbsp;</strong></p>

<p>Las urls generadas con este modo, en vez del hash&nbsp;incluyen primero el par&aacute;metro &quot;unsafe&quot;, donde cualquier petici&oacute;n que le llegue a thumbor la procesar&aacute;. Este comportamiento est&aacute; activado por defecto y hay que desactivarlo ante cualquier despliegue en un servidor abierto al p&uacute;blico. Si no fuese as&iacute;, cualquiera podr&iacute;a utilizar nuestro servidor&nbsp;para redimensionar im&aacute;genes. El thumbor de pruebas que tengo en mi servidor y del cual podeis ver los links en esta entrada&nbsp;permite el modo inseguro&nbsp;para que p&oacute;dais probar redimensiones. Sentiros libres de probarlo.&nbsp;</p>

<h3><strong>Control de Errores</strong></h3>

<p>El servicio permite<strong> </strong><a href="https://github.com/thumbor/thumbor/wiki/Custom-error-handling">configurar</a> el ya indispensable <a href="https://github.com/getsentry/sentry">sentry</a> para controlar las excepciones que puedan existir en la creaci&oacute;n de im&aacute;genes. Incluso nos permite la posibilidad de crear nuestro propio manejador de excepciones. As&iacute; no se nos pasar&aacute;n posibles errores en la generaci&oacute;n de las URLS.</p>

<h3><strong>Encolado de procesos</strong></h3>

<p>El&nbsp;procesamiento de filtros en modo inteligente&nbsp;puede consumir muchos recursos, habitualmente carga de&nbsp;CPU, para resolver este problema thumbor vuelve a tenerlo todo preparado, nos proporciona&nbsp;una cola de tareas donde se procesa la imagen en segundo plano y controlando el n&uacute;mero de redimensiones en paralelo que puede hacer. Es muy interesante saber que cuando tenemos el encolado activado, podemos configurar mientras no est&eacute; la imagen con el&nbsp;procesado inteligente completado nos ofrezca&nbsp;la versi&oacute;n normal, mucho m&aacute;s r&aacute;pida de procesar, para salir del paso.</p>

<h3 style="line-height: 18.9090900421143px;"><strong>Conclusi&oacute;n</strong></h3>

<p>Un aplicaci&oacute;n bien pensada en todos los sentidos y que resuelve muchos problemas a la vez de forma muy simple y pr&aacute;ctica. Creemos que para <a href="http://www.apsl.net/">nosotros</a> ser&aacute; pieza clave en el futuro y apostamos fuerte por ella.&nbsp;Nos acerca&nbsp;un poquito m&aacute;s a&nbsp;tener aplicaciones &quot;<a href="http://12factor.net/">12Factor</a>&quot;.</p>

<p>En pr&oacute;ximas&nbsp;(y espero en breve)&nbsp;entregas les mostrar&eacute; algunas magias de thumbor&nbsp;a nivel de configuraci&oacute;n y optimizaci&oacute;n. Terminando por ver un ejemplo que demuestra que se puede montar thumbor en alta disponibilidad, sin mucho esfuerzo,&nbsp;de forma segura y completamente escalable. Estad atentos.</p>

    </div>
    
    
    
    
  </div>
  

  
  <footer class="entry-footer well">
    
    <p class="entry-tags">
      <span class="glyphicon glyphicon-tags"></span> <strong>Tags</strong> :
      
      <span>Sin tags</span>
      
    </p>
    
    
    <p class="entry-shorturl">
      <span class="glyphicon glyphicon-bookmark"></span> <strong>Url corta</strong> :
      <a href="http://www.eduherraiz.com/blog/K/"
         title="URL corta para Introducción a thumbor "
         rel="shortlink">
        http://www.eduherraiz.com/blog/K/
      </a>
    </p>
    
    
    <p class="entry-discussions">
      <span class="glyphicon glyphicon-comment"></span> <strong>Debates</strong> :
      
      
      
      <a href="/blog/2015/04/07/thumbor/#comments"
         title="Comentarios en Introducción a thumbor ">
        1 comentario
      </a>
      
      
      
      
      
      
      
      
      
      
      
      
      
    </p>
    
  </footer>
  
</article>




<aside class="entry-widgets" role="complementary">
  
  
  
  
  
  
  <div class="entry-similar panel panel-default">
    <div class="panel-heading">
      Entradas similares
    </div>
    
<ul class="list-group">
  
  <li class="list-group-item">
    <a href="/blog/2011/11/08/use-ephiphan-vga2usb-framegrabber-with-video4linux2-interface-v4l2/" title="Use ephiphan VGA2USB framegrabber with video4linux2 interface (v4l2)" rel="bookmark">Use ephiphan VGA2USB framegrabber with video4linux2 interface (v4l2)</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2012/10/04/desactivar-el-altavoz-pc-speaker-en-linux/" title="Desactivar el altavoz (pc speaker) en linux" rel="bookmark">Desactivar el altavoz (pc speaker) en linux</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2011/12/16/script-con-beep-para-hacer-sonar-la-marcha-imperial/" title="Script con beep para hacer sonar la marcha imperial" rel="bookmark">Script con beep para hacer sonar la marcha imperial</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2011/07/04/mentes-criminales-hacker-fail/" title="Mentes criminales Hacker Fail" rel="bookmark">Mentes criminales Hacker Fail</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2012/09/08/nuevo-proyecto-foowillcom/" title="Nuevo proyecto: foowill.com" rel="bookmark">Nuevo proyecto: foowill.com</a>
  </li>
  
</ul>

  </div>
  
  
  <div class="entry-prev-next">
    <ul class="pager">
      
      
      
      
      
      <li class="previous">
        <a href="/blog/2015/03/14/porque-es-tan-caro-hacer-una-pagina-web/" title="¿Porqué es tan caro hacer una página web?" rel="prev">
          &larr; ¿Porqué es tan caro hacer una página web?
        </a>
      </li>
      
      
    </ul>
  </div>
  
</aside>






<p>Los pingbacks están cerrados.</p>













<section id="comments" class="panel panel-info">
  <div class="panel-heading">
    Comentarios
  </div>
  
  
  <ol id="comment-list" class="list-group">
    
  </ol>
  
  
</section>








        </div>
        <div id="sidebar" class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
          

<aside id="widget-categories" class="widget panel panel-default">
  <div class="panel-heading">
    Categorías
  </div>
  
<ul class="category-root list-group">
  
  <li class="list-group-item">
    <a href="/blog/categories/anime/"
       title="Mostrar todos los artículos de Anime">Anime
      <span class="label label-info">
        1 entrada
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/django/"
       title="Mostrar todos los artículos de Django">Django
      <span class="label label-info">
        1 entrada
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/foowill/"
       title="Mostrar todos los artículos de Foowill">Foowill
      <span class="label label-info">
        2 entradas
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/humor/"
       title="Mostrar todos los artículos de Humor">Humor
      <span class="label label-info">
        1 entrada
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/linux-2/"
       title="Mostrar todos los artículos de Linux">Linux
      <span class="label label-info">
        2 entradas
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/programacion/"
       title="Mostrar todos los artículos de Programación">Programación
      <span class="label label-info">
        3 entradas
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/python/"
       title="Mostrar todos los artículos de Python">Python
      <span class="label label-info">
        2 entradas
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/reflexiones/"
       title="Mostrar todos los artículos de Reflexiones">Reflexiones
      <span class="label label-info">
        6 entradas
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/sin-categoria/"
       title="Mostrar todos los artículos de Sin categoría">Sin categoría
      <span class="label label-info">
        4 entradas
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/videos/"
       title="Mostrar todos los artículos de Videos">Videos
      <span class="label label-info">
        1 entrada
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/categories/web/"
       title="Mostrar todos los artículos de Web">Web
      <span class="label label-info">
        1 entrada
      </span>
    </a>
  </li>
  
</ul>

</aside>
<aside id="widget-recents" class="widget panel panel-default">
  <div class="panel-heading">
    Entradas recientes
  </div>
  
<ul class="list-group">
  
  <li class="list-group-item">
    <a href="/blog/2015/04/07/thumbor/" title="Introducción a thumbor " rel="bookmark">Introducción a thumbor </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2015/03/14/porque-es-tan-caro-hacer-una-pagina-web/" title="¿Porqué es tan caro hacer una página web?" rel="bookmark">¿Porqué es tan caro hacer una página web?</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2014/11/12/troleando-al-sysadmin-de-los-tranvias-de-zaragoza-aclaracion/" title="Troleando al sysadmin de los tranvías de Zaragoza (aclaración)" rel="bookmark">Troleando al sysadmin de los tranvías de Zaragoza (aclaración)</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2014/05/16/cambiando-de-aires/" title="Cambiando de aires" rel="bookmark">Cambiando de aires</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2013/12/13/foowill-un-proyecto-inutil-que-no-lo-fue-tanto/" title="Foowill, un proyecto inútil que no lo fue tanto" rel="bookmark">Foowill, un proyecto inútil que no lo fue tanto</a>
  </li>
  
</ul>

</aside>
<aside id="widget-comments" class="widget panel panel-default">
  <div class="panel-heading">
    Comentarios recientes
  </div>
  
<ul class="list-group">
  
  <li class="list-group-item">
    
    <a href="/blog/2011/12/16/script-con-beep-para-hacer-sonar-la-marcha-imperial/#comment-10-by-worm"
       title="Comentarios en Script con beep para hacer sonar la marcha imperial">
      worm en
      Script con beep para hacer sonar la marcha imperial
    </a>
    
  </li>
  
  <li class="list-group-item">
    
    <a href="/blog/2011/12/16/script-con-beep-para-hacer-sonar-la-marcha-imperial/#comment-9-by-edu"
       title="Comentarios en Script con beep para hacer sonar la marcha imperial">
      Edu en
      Script con beep para hacer sonar la marcha imperial
    </a>
    
  </li>
  
  <li class="list-group-item">
    
    <a href="/blog/2011/12/16/script-con-beep-para-hacer-sonar-la-marcha-imperial/#comment-8-by-pau-rullan-ferragut"
       title="Comentarios en Script con beep para hacer sonar la marcha imperial">
      Pau Ruŀlan Ferragut en
      Script con beep para hacer sonar la marcha imperial
    </a>
    
  </li>
  
  <li class="list-group-item">
    
    <a href="/blog/2011/10/28/beck-o-mongolian-chop-squad/#comment-4-by-edu"
       title="Comentarios en Beck o Mongolian chop squad">
      Edu en
      Beck o Mongolian chop squad
    </a>
    
  </li>
  
  <li class="list-group-item">
    
    <a href="/blog/2011/10/28/beck-o-mongolian-chop-squad/#comment-3-by-carla"
       title="Comentarios en Beck o Mongolian chop squad">
      Carla en
      Beck o Mongolian chop squad
    </a>
    
  </li>
  
</ul>

</aside>
<aside id="widget-randoms" class="widget panel panel-default">
  <div class="panel-heading">
    Entradas al azar
  </div>
  
<ul class="list-group">
  
  <li class="list-group-item">
    <a href="/blog/2015/04/07/thumbor/" title="Introducción a thumbor " rel="bookmark">Introducción a thumbor </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2014/11/12/troleando-al-sysadmin-de-los-tranvias-de-zaragoza-aclaracion/" title="Troleando al sysadmin de los tranvías de Zaragoza (aclaración)" rel="bookmark">Troleando al sysadmin de los tranvías de Zaragoza (aclaración)</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2012/09/08/nuevo-proyecto-foowillcom/" title="Nuevo proyecto: foowill.com" rel="bookmark">Nuevo proyecto: foowill.com</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2011/10/28/beck-o-mongolian-chop-squad/" title="Beck o Mongolian chop squad" rel="bookmark">Beck o Mongolian chop squad</a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2014/05/16/cambiando-de-aires/" title="Cambiando de aires" rel="bookmark">Cambiando de aires</a>
  </li>
  
</ul>

</aside>
<aside id="widget-populars" class="widget panel panel-default">
  <div class="panel-heading">
    Entradas populares
  </div>
  
<ul class="list-group">
  
  <li class="list-group-item">
    <a href="/blog/2011/12/16/script-con-beep-para-hacer-sonar-la-marcha-imperial/" title="Script con beep para hacer sonar la marcha imperial" rel="bookmark">Script con beep para hacer sonar la marcha imperial
      <span class="badge">
        3
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2013/12/13/foowill-un-proyecto-inutil-que-no-lo-fue-tanto/" title="Foowill, un proyecto inútil que no lo fue tanto" rel="bookmark">Foowill, un proyecto inútil que no lo fue tanto
      <span class="badge">
        2
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2011/10/28/beck-o-mongolian-chop-squad/" title="Beck o Mongolian chop squad" rel="bookmark">Beck o Mongolian chop squad
      <span class="badge">
        2
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2015/04/07/thumbor/" title="Introducción a thumbor " rel="bookmark">Introducción a thumbor 
      <span class="badge">
        1
      </span>
    </a>
  </li>
  
  <li class="list-group-item">
    <a href="/blog/2015/03/14/porque-es-tan-caro-hacer-una-pagina-web/" title="¿Porqué es tan caro hacer una página web?" rel="bookmark">¿Porqué es tan caro hacer una página web?
      <span class="badge">
        1
      </span>
    </a>
  </li>
  
</ul>

</aside>

        </div>
      </div>
    </div>
    <footer class="container">
      <p>Desarrollado por <a href="http://www.djangoproject.com">Django</a> y <a href="https://github.com/Fantomas42/django-blog-zinnia">Zinnia 0.15</a>.</p>
    </footer>
    <script type="text/javascript" src="/static/portfolio/zinnia_bootstrap/assets/js/jquery.js"></script>
    <script type="text/javascript" src="/static/portfolio/zinnia_bootstrap/bootstrap/js/bootstrap.min.js"></script>
    <!-- Analytics --><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-22166003-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>